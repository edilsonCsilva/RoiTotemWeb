var localStorger=new LocalStorger,token=localStorger.getToObject("token");function readQRCode(){try{setInterval(function(){$("#scan").click(),console.log("read")},500)}catch(o){}}function take_snapshot(){Webcam.snap(function(o){qrCodeDecoder(o)})}function qrCodeDecoder(o){qrcode.decode(o)}function readScanner(o){var e,t=Api();0<o.length&&(console.log(o),beep(100,1,function(){}),o=o.split(":"),e={headers:{Authorization:"Bearer "+token.data.token}},o=t.url+t.routes.totemcampaigns+"/search?hash="+o[1],axios.get(o,e).then(function(o){console.log(o),localStorger.insert("campaign",JSON.stringify(o.data.campaign)),location.href="/selectaccess"}).then(o=>{console.log("1 ",o)}).catch(o=>{Swal.fire({position:"top-end",icon:"error",title:"Oops...",text:"Campanha Não Localizada.",showConfirmButton:!1,timer:2e3,willClose:()=>{window.location.href="/"}})}))}null!=token&&0!=token.data.length||(window.location.href="/"),$(document).ready(function(){function o(){Webcam.snap(function(o){o=o,qrcode.decode(o)})}function e(o){var e,t=Api();0<o.length&&(console.log(o),beep(100,1,function(){}),o=o.split(":"),e={headers:{Authorization:"Bearer "+token.data.token}},o=t.url+t.routes.totemcampaigns+"/search?hash="+o[1],axios.get(o,e).then(function(o){console.log(o),localStorger.insert("campaign",JSON.stringify(o.data.campaign)),location.href="/selectaccess"}).then(o=>{console.log("1 ",o)}).catch(o=>{Swal.fire({position:"top-end",icon:"error",title:"Oops...",text:"Campanha Não Localizada.",showConfirmButton:!1,timer:2e3,willClose:()=>{window.location.href="/"}})}))}$(document).ready(function(){setTimeout(function(){Webcam.attach("#webcam"),$("#scan").on("click",function(){o()}),function(){try{setInterval(function(){$("#scan").click(),console.log("read")},500)}catch(o){}}(),qrcode.callback=e},1e3)}),navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia({video:!0,audio:!0},function(o){},function(o){console.log("O seguinte erro ocorreu: "+o),Swal.fire({position:"top-end",icon:"error",title:"Oops...",text:"O seguinte erro ocorreu: "+o,showConfirmButton:!1,timer:3500,willClose:()=>{window.location.href="/"}})}),setTimeout(function(){window.location.href="/"},6e4)}),$(document).ready(function(){setTimeout(function(){Webcam.attach("#webcam"),$("#scan").on("click",function(){take_snapshot()}),readQRCode(),qrcode.callback=readScanner},1e3)});
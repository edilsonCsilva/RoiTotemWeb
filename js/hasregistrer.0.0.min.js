var localStorger=new LocalStorger,token=localStorger.getToObject("token"),campaign=localStorger.getToObject("campaign"),timesClicksPagers=80,timesContexSetInteval=null,limitTime=100,modal=$("#msn"),isClick=!1;null!=token&&0!=token.data.length&&null!=campaign||(location.href="/"),$(document).ready(function(){timesContexSetInteval=setInterval(function(){0!=--timesClicksPagers?console.log("click",timesClicksPagers):window.location.href="/"},600),$("body").mousemove(function(){console.log("add "),timesClicksPagers<limitTime&&timesClicksPagers++}),$(window).bind("beforeunload",function(){clearInterval(timesContexSetInteval)}),$("#btn_process").on("click",function(){if(!isClick){$("#btn_process").html(`<div  class="theme-btn-round-heigth-title ">
                                 <span class="colors-write">
                                 <b>PROCESSANDO..</b>
                                 </span></div>`);let e;Swal.fire({title:"",html:"Processando.",timer:2e3,timerProgressBar:!0,didOpen:()=>{Swal.showLoading(),e=setInterval(()=>{const e=Swal.getContent();if(e){const t=e.querySelector("b");t&&(t.textContent=Swal.getTimerLeft())}},100)},willClose:()=>{clearInterval(e)}}).then(e=>{e.dismiss===Swal.DismissReason.timer&&console.log("I was closed by the timer")}),setTimeout(function(){var o=Api(),i={headers:{Authorization:"Bearer "+token.data.token}},e=o.url+o.routes.totemcustomers+"/search?phone="+$("#input_fone").val().replace(/[^\d]+/g,"");axios.get(e,i).then(function(e){null==e&&(isClick=!1),localStorger.insert("customers",JSON.stringify(e.data.customer));var t=localStorger.getToObject("campaign"),e=e.data.customer.id,t=t.id;axios.post(o.url+o.routes.totemcampaignscustomer,{campaign_id:t,customer_id:e},i).then(function(e){location.href="/printcupom"}).then(e=>{console.log("1 ",e)}).catch(e=>{Swal.fire({position:"top-end",icon:"error",title:"Oops...",text:"Telefone Não Localizado.!",showConfirmButton:!1,timer:3500,willClose:()=>{window.location.href="/"}})}),isClick=!0}).then(e=>{console.log("1 ",e),setTimeout(function(){location.href="/"},2e3)}).catch(e=>{Swal.fire({position:"top-end",icon:"error",title:"Oops...",text:"Telefone Não Localizado.!",showConfirmButton:!1,timer:3500,willClose:()=>{window.location.href="/"}}),setTimeout(function(){location.href="/"},2e3)})},1e3)}})});
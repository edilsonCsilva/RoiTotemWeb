<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/img/favicon.ico" sizes="16x16" type="image/png">

    <!-- Bootstrap CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" >
    <link href="/css/cores.css" rel="stylesheet" >
    <link href="/css/style-custom.css" rel="stylesheet" >
    <title>{{title}}</title>

    <style>
     

    </style>
  </head>
  <body class="theme-roi-base">
    <header class="theme-border-black">
        <!-- Just an image -->
        <nav class="navbar theme-roi-brand-logo-base">
            <div class="container">
            <a class="navbar-brand mx-auto " href="javascript:void(0)" >
                <img src="/img/logoroi.png"  class="brand-logo" alt=""  >
            </a>
            </div>
        </nav>
    </header>

    <div class="container-fluid fluid-screen "  >
        <!-- Content here -->

        <div class="row">
            <div class="col  mx-auto " >
                 <div class="text-center"     style="margin-top:50px;" >
                  <div  >
                      <div >
                          <label>
                              <h1 class="colors-black"> ESCANEIE SEU QR CODE</h1>
                          </label>
                      </div>

                      <div class="theme-back-img-1">
                      
                          <div   style="padding:25px;" >
                            
                              <div style="width:100%; height:240px;"  >
                                    <div id="webcam"    style="width:60%; height:100%;margin-top:-12px;"> 
                                        <img src="/img/spinner2.gif" style="width:100%;height:100%;"    >
                                    </div>
                              </div>
                            </div>

                      
                      </div>
                  </div>

              </div>
            </div>
            <div class="col  ">
              
                <div class="" style="margin-top:50px">
                    <div class="text-center">
                        <label>
                            <h1 class="colors-black">APROXIME O SEU
                                QR CODE À CÂMERA</h1>
                        </label>
                     </div>

                    <div class="text-center"   >
                        <div class="card" style="padding:10px; background-color:#bee4f3;">
                            <div class="card-body ">
                                <img src="/img/writeqrcode.gif" 
                                style="position:relative; width: 100%;height:300px;"  />
                            </div>
                          </div>

                    
                    </div>
                    

                </div>


            </div>
        </div>
        
           

       

       
        <!-- Content here -->

    </div>

    <div id="scan"></div>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script type="text/javascript" src="/js/instascan.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js" ></script>
    <script src="/js/bootstrap.min.js" ></script>
    <script src="/js/jquery-3.5.1.min.js" ></script>
    <script src="/js/configs.js" ></script>
    <script src="/js/system.js" ></script>
    <script src="/js/localStorger.js" ></script>
    <script src="/js/axios.min.js" ></script>
    <script src="/js/sweetalert2.js"></script>

    <!--/*Scripts QrCode*/ -->
    <script src="/js/webcam.min.js"></script>
	<script type="text/javascript" src="/js/qr/grid.js"></script>
	<script type="text/javascript" src="/js/qr/version.js"></script>
	<script type="text/javascript" src="/js/qr/detector.js"></script>
	<script type="text/javascript" src="/js/qr/formatinf.js"></script>
	<script type="text/javascript" src="/js/qr/errorlevel.js"></script>
	<script type="text/javascript" src="/js/qr/bitmat.js"></script>
	<script type="text/javascript" src="/js/qr/datablock.js"></script>
	<script type="text/javascript" src="/js/qr/bmparser.js"></script>
	<script type="text/javascript" src="/js/qr/datamask.js"></script>
	<script type="text/javascript" src="/js/qr/rsdecoder.js"></script>
	<script type="text/javascript" src="/js/qr/gf256poly.js"></script>
	<script type="text/javascript" src="/js/qr/gf256.js"></script>
	<script type="text/javascript" src="/js/qr/decoder.js"></script>
	<script type="text/javascript" src="/js/qr/qrcode.js"></script>
	<script type="text/javascript" src="/js/qr/findpat.js"></script>
	<script type="text/javascript" src="/js/qr/alignpat.js"></script>
	<script type="text/javascript" src="/js/qr/databr.js"></script>
    <script src="/js/readQrCode.js"></script>
   

  <!--/*Scripts QrCode*/ -->

   <script>
        var localStorger = new LocalStorger()
                    var token=localStorger.getToObject("token")
                    if(token==null || token.data.length ==0){
                        window.location.href="/"
                        
                         
                    }
       $(document).ready(function(){

        //
                   
                    navigator.getMedia = ( navigator.getUserMedia ||
                                navigator.webkitGetUserMedia ||
                                navigator.mozGetUserMedia ||
                                navigator.msGetUserMedia);

                    navigator.getMedia (

                    // permissoes
                    {
                        video: true,
                        audio: true
                    },
                    // callbackSucesso
                    function(localMediaStream) {
                        
                    },

                    // callbackErro
                    function(err) {
                        console.log("O seguinte erro ocorreu: " + err);
                        Swal.fire({
                            position: 'top-end',
                            icon: 'error',
                            title: 'Oops...',
                            text: "O seguinte erro ocorreu: " + err,
                            showConfirmButton: false,
                            timer: 3500,
                            willClose: () => {
                                window.location.href="/"
                            }
                        })


                        
                    }

                    );
            
 
          setTimeout(function(){
              window.location.href="/"                
           },6*10000)          

        //
       })
       
        



   </script>

    
 
  </body>
</html>